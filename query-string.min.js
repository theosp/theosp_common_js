(function(){var b={};b.unescapeBuffer=decodeURIComponent;b.unescape=function(a,c){return b.unescapeBuffer(a,c).toString()};b.escape=function(a){return encodeURIComponent(a)};var h=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};b.stringify=b.encode=function(a,c,f,e){c=c||"&";f=f||"=";a=a===null?undefined:a;switch(typeof a){case "object":return theosp.array.map(theosp.object.keys(a),function(d){return theosp.array.isArray(a[d])?
a[d].map(function(g){return b.escape(h(d))+f+b.escape(h(g))}).join(c):b.escape(h(d))+f+b.escape(h(a[d]))}).join(c);default:return e?b.escape(h(e))+f+b.escape(h(a)):""}};b.parse=b.decode=function(a,c,f){c=c||"&";f=f||"=";var e={};if(typeof a!=="string")return e;a=a.split(c);for(c=0;c<a.length;c++){var d=a[c].split(f),g=b.unescape(d[0],true);d=b.unescape(d.slice(1).join(f),true);if(g in e)if(theosp.array.isArray(e[g]))e[g].push(d);else e[g]=[e[g],d];else e[g]=d}return e};this.NODE_QUERY_STRING=b})();
