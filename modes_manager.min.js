(function(c){c.ModesManager=function(a){if(typeof a==="undefined")a={};this.options={};c.extend(this.options,this.default_options,a);this.modes_elements=[];this.modes={}};c.ModesManager.prototype=new EventEmitter;c.ModesManager.prototype.constructor=c.ModesManager;c.ModesManager.prototype.default_options={modes_prefix:"mode-",modes_suffix:"-mode"};c.ModesManager.prototype.modes_classes_template=function(a){return this.options.modes_prefix+a+this.options.modes_suffix};c.ModesManager.prototype.setMode=
function(a){if(typeof a!=="undefined")if(!this.hasMode(a)){this.modes[a]=true;var b=Array.prototype.slice.call(arguments,1),d=b.slice(0);b=b.slice(0);d.unshift("before_set_mode_"+a);b.unshift("after_set_mode_"+a);this.emit.apply(this,d);for(var e=0;e<this.modes_elements.length;e++){d=this.modes_elements[e];d.addClass(this.modes_classes_template(a))}this.emit.apply(this,b)}};c.ModesManager.prototype.unsetMode=function(a){if(typeof a!=="undefined")if(this.hasMode(a)){delete this.modes[a];var b=Array.prototype.slice.call(arguments,
1),d=b.slice(0);b=b.slice(0);d.unshift("before_unset_mode_"+a);b.unshift("after_unset_mode_"+a);this.emit.apply(this,d);for(var e=0;e<this.modes_elements.length;e++){d=this.modes_elements[e];d.removeClass(this.modes_classes_template(a))}this.emit.apply(this,b)}};c.ModesManager.prototype.toggleMode=function(a){this.hasMode(a)?this.unsetMode(a):this.setMode(a)};c.ModesManager.prototype.hasMode=function(a){if(a in this.modes)return true;return false};c.ModesManager.prototype.addModesElement=function(){for(var a,
b=0;b<arguments.length;b++){a=arguments[b];for(var d in this.modes)this.modes.hasOwnProperty(d)&&a.addClass(this.modes_classes_template(d));this.modes_elements.push(a)}}})(jQuery);
