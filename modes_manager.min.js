(function(b){b.ModesManager=function(a){if(typeof a==="undefined")a={};this.options={};b.extend(this.options,this.default_options,a);this.modes_elements=[];this.modes={}};b.ModesManager.prototype=new EventEmitter;b.ModesManager.prototype.constructor=b.ModesManager;b.ModesManager.prototype.default_options={modes_prefix:"mode-",modes_suffix:"-mode"};b.ModesManager.prototype.modes_classes_template=function(a){return this.options.modes_prefix+a+this.options.modes_suffix};b.ModesManager.prototype.setMode=
function(a){if(typeof a!=="undefined")if(!this.hasMode(a)){this.modes[a]=true;var c=Array.prototype.slice.call(arguments,1),d=c.slice(0);c=c.slice(0);d.unshift("before_set_mode_"+a);c.unshift("after_set_mode_"+a);this.emit.apply(this,d);for(var e in this.modes_elements)this.modes_elements.hasOwnProperty(e)&&this.modes_elements[e].addClass(this.modes_classes_template(a));this.emit.apply(this,c)}};b.ModesManager.prototype.unsetMode=function(a){if(typeof a!=="undefined")if(this.hasMode(a)){delete this.modes[a];
var c=Array.prototype.slice.call(arguments,1),d=c.slice(0);c=c.slice(0);d.unshift("before_unset_mode_"+a);c.unshift("after_unset_mode_"+a);this.emit.apply(this,d);for(var e in this.modes_elements)this.modes_elements.hasOwnProperty(e)&&this.modes_elements[e].removeClass(this.modes_classes_template(a));this.emit.apply(this,c)}};b.ModesManager.prototype.toggleMode=function(a){this.hasMode(a)?this.unsetMode(a):this.setMode(a)};b.ModesManager.prototype.hasMode=function(a){if(a in this.modes)return true;
return false};b.ModesManager.prototype.addModesElement=function(){for(var a=0;a<arguments.length;a++)this.modes_elements.push(arguments[a])}})(jQuery);
